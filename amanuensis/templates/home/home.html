{% extends "page_1col.html" %}
{% block title %}Home | Amanuensis{% endblock %}
{% block header %}<h2>Amanuensis - Home</h2>{% endblock %}

{% block main %}
<h1>Welcome to Amanuensis!</h1>
<p>
	Amanuensis is a hub for playing Lexicon, the encyclopedia RPG. Log in to access your Lexicon games. If you do not have an account, contact the administrator.
</p>

{% if current_user.is_authenticated %}
{% set lexicons = current_user.lexicons_in() %}
<h2>Your games</h2>
{% if lexicons %}
{% for lexicon in lexicons %}

<div class="dashboard-lexicon-item dashboard-lexicon-{{ lexicon.status() }}">
<p>
	<span class="dashboard-lexicon-item-title">
		<a href="{{ url_for('lexicon.session', name=lexicon.name) }}">Lexicon {{ lexicon.name }}</a>
	</span>
	[{{ lexicon.status().capitalize() }}]
</p>
<p><i>{{ lexicon.prompt }}</i></p>
</div>

{% endfor %}
{% else %}
<p>You haven't joined a game yet.</p>
{% endif %}
{% endif %}
{% endblock %}
{% set template_content_blocks = [self.main()] %}

{% if current_user.is_admin %}
{% block admin_dash %}
<a href="{{ url_for('home.admin') }}" style="display:block; text-align:center;">Admin dashboard</a>
{% endblock %}
{% set template_content_blocks = [self.admin_dash()] + template_content_blocks %}
{% endif %}