{% macro dashboard_lexicon_item(lexicon) %}
<div class="dashboard-lexicon-item dashboard-lexicon-{{ lexicon.status() }}">
	<p>
		<span class="dashboard-lexicon-item-title">
			<a href="{{ url_for('lexicon.contents', name=lexicon.name) }}">
				Lexicon {{ lexicon.name }}</a>
		</span>
		[{{ lexicon.status().capitalize() }}]
	</p>
	<p><i>{{ lexicon.prompt }}</i></p>
	{% if current_user.is_authenticated %}
	<p>
		{%
			if current_user.in_lexicon(lexicon)
			or current_user.is_admin
		%}
		Editor: {{ lexicon.editor|user_attr('username') }} /
		Players:
		{% for uid in lexicon.join.joined %}
		{{ uid|user_attr('username') }}{% if not loop.last %}, {% endif %}
		{% endfor %}
		({{ lexicon.join.joined|count }}/{{ lexicon.join.max_players }})
		{% else %}
		Players: {{ lexicon.join.joined|count }}/{{ lexicon.join.max_players }}
		{% if lexicon.join.public and lexicon.join.open %}
		/ <a href="{{ url_for('lexicon.join', name=lexicon.name) }}">
			Join game
		</a>
		{% endif %}
		{% endif %}
	</p>
	{% endif %}
</div>
{% endmacro %}

{% macro dashboard_user_item(user) %}
<div class="dashboard-lexicon-item">
	<p>
		<b>{{ user.username }}</b>
		{% if user.username != user.displayname %} / {{ user.displayname }}{% endif %}
		({{user.uid}})
	</p>
	<p>Last activity: {{ user.last_activity|asdate }} &mdash; Last login: {{ user.last_login|asdate }}</p>
</div>
{% endmacro %}